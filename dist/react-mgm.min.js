!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("classnames"),require("underscore"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","classnames","underscore","react-dom"],t):"object"==typeof exports?exports.ReactMGM=t(require("react"),require("classnames"),require("underscore"),require("react-dom")):e.ReactMGM=t(e.react,e.classnames,e.underscore,e["react-dom"])}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(6),a=r(o),i=n(8),l=r(i),u=n(34),s=r(u),c=n(25),f=r(c),p=n(7),d=r(p),h=n(35),y=r(h),m=n(9),b=r(m),v=n(26),g=r(v),w=n(23),_=r(w),O=n(22),j=r(O),P=n(33),E=r(P),T=n(31),C=r(T),k=n(27),x=r(k),N=n(29),S=r(N),M=n(32),D=r(M),R=n(24),B=r(R),q=n(20),F=r(q),W=n(28),L=r(W),I=n(19),A=r(I),U=n(30),K=r(U),X=n(21),H=r(X);n(36);var z={Flex:a.default,Infinite:_.default,Textarea:s.default,NProgress:f.default,Mask:d.default,Toast:y.default,Loading:b.default,Page:g.default,Header:j.default,Storage:E.default,Slider:C.default,Popup:x.default,SearchBar:S.default,Square:D.default,LazyImg:B.default,Dialog:F.default,ScrollIntoView:L.default,CursorFix:A.default,Select:K.default,Droper:H.default,Util:l.default};e.exports=z},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return(0,l.default)(this,e,t)}function a(e){e.prototype.shouldComponentUpdate=o}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),l=r(i);t.default=a},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),d=n(2),h=r(d),y=n(3),m=r(y),b=n(4),v=r(b),g=(0,v.default)(u=function(e){function t(){return a(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.flex,n=e.auto,r=e.none,a=e.width,i=e.height,l=e.row,u=e.column,c=e.wrap,f=e.nowrap,d=e.justifyStart,y=e.justifyEnd,b=e.justifyCenter,v=e.justifyBetween,g=e.justifyAround,w=e.alignStart,_=e.alignEnd,O=e.alignCenter,j=e.alignBaseline,P=e.alignStretch,E=e.className,T=e.style,C=o(e,["flex","auto","none","width","height","row","column","wrap","nowrap","justifyStart","justifyEnd","justifyCenter","justifyBetween","justifyAround","alignStart","alignEnd","alignCenter","alignBaseline","alignStretch","className","style"]),k=(0,h.default)({flex:!0,"flex-flex":t,"flex-auto":n,"flex-none":r||a||i,"flex-row":l,"flex-column":u,"flex-wrap":c,"flex-nowrap":f,"flex-justify-start":d,"flex-justify-end":y,"flex-justify-center":b,"flex-justify-between":v,"flex-justify-around":g,"flex-align-start":w,"flex-align-end":_,"flex-align-center":O,"flex-align-baseline":j,"flex-align-stretch":P},E),x=m.default.extend({},T);return t&&(x.flex="boolean"==typeof t?1:t,x.WebkitFlex="boolean"==typeof t?1:t),i&&(x.height=i),a&&(x.width=a),p.default.createElement("div",s({},C,{className:k,style:x}),this.props.children)}}]),t}(p.default.Component))||u;g.propTypes={flex:f.PropTypes.oneOfType([f.PropTypes.number,f.PropTypes.bool]),auto:f.PropTypes.bool,none:f.PropTypes.bool,width:f.PropTypes.oneOfType([f.PropTypes.number,f.PropTypes.string]),height:f.PropTypes.oneOfType([f.PropTypes.number,f.PropTypes.string]),row:f.PropTypes.bool,column:f.PropTypes.bool,wrap:f.PropTypes.bool,nowrap:f.PropTypes.bool,justifyStart:f.PropTypes.bool,justifyEnd:f.PropTypes.bool,justifyCenter:f.PropTypes.bool,justifyBetween:f.PropTypes.bool,justifyAround:f.PropTypes.bool,alignStart:f.PropTypes.bool,alignEnd:f.PropTypes.bool,alignCenter:f.PropTypes.bool,alignBaseline:f.PropTypes.bool,alignStretch:f.PropTypes.bool},t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),d=n(2),h=r(d),y=n(4),m=r(y),b=(0,m.default)(u=function(e){function t(){return a(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,r=e.transparent,a=e.show,i=e.opacity,l=o(e,["className","style","transparent","show","opacity"]),u=(0,h.default)({mask:!r,"mask-transparent":r},t),c=Object.assign({display:a?"block":"none",opacity:i},n);return p.default.createElement("div",s({},l,{className:u,style:c}))}}]),t}(p.default.Component))||u;b.defaultProps={transparent:!1,show:!1},b.propTypes={transparent:f.PropTypes.bool,show:f.PropTypes.bool,opacity:f.PropTypes.number},t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(14),a=r(o),i=n(10),l=r(i),u=n(12),s=r(u),c=n(11),f=r(c),p=n(16),d=r(p),h=n(17),y=r(h),m=n(15),b=r(m);e.exports={Request:a.default,RequestInterceptor:l.default,format:f.default,param:s.default,isElementInViewport:d.default,isElementOverViewport:y.default,is:b.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),d=n(2),h=r(d),y=n(4),m=r(y),b=(0,m.default)(u=function(e){function t(){return a(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=o(e,["className"]);return p.default.createElement("div",s({},n,{className:(0,h.default)("loading",t)}),p.default.createElement("div",{className:"loading-inner"},p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_0"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_1"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_2"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_3"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_4"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_5"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_6"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_7"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_8"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_9"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_10"}),p.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_11"})))}}]),t}(p.default.Component))||u;t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=function(){var e=[],t=0;return{add:function(n){return n.__id=t++,e.push(n),n.__id},remove:function(t){e=a.default.filter(e,function(e){return e.__id!==t})},interceptor:{request:function(t){var n=Promise.resolve(t);return a.default.each(e,function(e){e.request&&(n=n.then(function(n){return e.request(n)||t}))}),n},response:function(t,n){var r=Promise.resolve(t);return a.default.each(e,function(e){e.response&&(r=r.then(function(t){return e.response(t,n)||t}))}),r},responseError:function(t,n){var r=Promise.reject(t);return a.default.each(e,function(e){e.responseError&&(r=r.catch(function(t){return Promise.reject(e.responseError(t,n)||t)}))}),r}}}}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=function(e,t){var n=e;return arguments.length<2?n:n=n.replace(/\{([\d\w\.]+)\}/g,function(e){var n=arguments[1].split("."),r=null;return a.default.each(n,function(e,n){r=n?r[e]:t[e]}),r})};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=function(e){return a.default.map(e,function(e,t){return[encodeURIComponent(t),"=",encodeURIComponent(e)].join("")}).join("&").replace(/%20/g,"+")};t.default=i,e.exports=t.default},function(e,t){"use strict";function n(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!==("undefined"==typeof e?"undefined":o(e))||null===e||"object"!==("undefined"==typeof t?"undefined":o(t))||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var l=0;l<r.length;l++)if(!a.call(t,r[l])||!n(e[r[l]],t[r[l]]))return!1;return!0}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=r(o),i=n(11),l=r(i),u=n(3),s=r(u),c=n(10),f=r(c),p=function(e,t){return t===!1?e:new Promise(function(n,r){setTimeout(function(){r("request timeout")},t),e.then(n,r)})},d=function(e){return f.default.interceptor.request(e)},h=function(e,t,n,r){var o="color: #8a6d3b;";return p(e,r.options.timeout).then(function(e){if(e.ok){var t=e.headers.get("content-type");return t.indexOf("text/html")>-1?e.text().then(function(e){return e.indexOf("title>登陆</title")>-1?Promise.reject("请登录!"):Promise.reject("未知错误！！！！！")}):e.json()}return Promise.reject((0,l.default)("服务器错误 {status} {statusText}",e))}).then(function(e){return f.default.interceptor.response(e,r)},function(e){return Promise.reject(f.default.interceptor.responseError(e,r))}).then(function(e){return n.indexOf(e.code)>-1?e:(console.log("%c*** Request url: %s、code: %s、msg: %s",o,t,e.code,e.msg),Promise.reject(e.msg||"未知错误"))}).catch(function(e){return"[object Promise]"===toString.call(e)?e.catch(function(e){return console.error("%c*** Request catch %s",o,e),Promise.reject(""+e)}):(console.error("%c*** Request catch %s",o,e),Promise.reject(""+e))})},y=function(e,t){this._data={},this.url=e,this.sucCode=[0],this.options=Object.assign({timeout:1e4,method:"get",headers:{Accept:"application/json"},credentials:"include"},t)};y.prototype={code:function(e){return s.default.isArray(e)?this.sucCode=this.sucCode.concat(e):this.sucCode.push(e),this},timeout:function(e){return Object.assign(this.options,{timeout:e}),this},data:function(e){return this._data=Object.assign({},e),"[object Object]"===toString.call(this._data)&&(this._data=s.default.pick(this._data,function(e){return null!==e&&void 0!==e})),this},json:function(e){return this._data=JSON.stringify(e),this},_getConfig:function(){var e=this;return{url:e.url,data:e._data,sucCode:e.sucCode,options:e.options}},_setConfig:function(e){var t=this;t.url=e.url,t._data=e.data,t.sucCode=e.sucCode,t.options=e.options},_beforeRequest:function(){var e=this;return d(e._getConfig()).then(e._setConfig.bind(e))},get:function(){var e=this;return e._beforeRequest().then(function(){var t=(0,a.default)(e._data),n=e.url+(e.url.indexOf("?")>-1?"&":"?")+t;return h(fetch(n,e.options),e.url,e.sucCode,e._getConfig())})},post:function(){var e,t=this,n=t._data;return t.options.method="post",t._beforeRequest().then(function(){if("[object Object]"===toString.call(n)){e=new FormData;for(var r in n)e.append(r,n[r])}else e=n;return t.options.body=e,h(fetch(t.url,t.options),t.url,t.sucCode,t._getConfig())})}};var m=function(e,t){return new y(e,t)};t.default=m,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.weixin=function(){return/MicroMessenger/i.test(navigator.userAgent)},t.default=n,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return t.bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)},e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){return!o(e.props,t)||!o(e.state,n)}var o=n(13);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),c=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return i(t,e),l(t,[{key:"render",value:function(){var e=Object.assign({},this.props,{onClick:this.handleClick});return delete e.component,s.default.createElement(this.props.component,e)}},{key:"handleClick",value:function(e){e.preventDefault(),e.target.focus(),this.props.onClick&&this.props.onClick(e)}}]),t}(s.default.Component);c.propTypes={component:u.PropTypes.string.isRequired},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),d=n(5),h=r(d),y=n(2),m=r(y),b=n(4),v=r(b),g="_mgm_dialogs_container"+(Math.random()+"").slice(2),w=document.getElementById(g);w||(w=document.createElement("div"),w.className="mgm-dialogs",w.id=g,document.body.appendChild(w));var _={};_={dialog:function(e){return new Promise(function(t,n){var r=document.createElement("div");w.appendChild(r),e.title=e.title||"提示",e.show=!0,e.onConfirm=function(){w.removeChild(r),t()},e.onCancel=function(){w.removeChild(r),n()},h.default.render(p.default.createElement(O,e),r)})},alert:function(e){return"string"==typeof e&&(e={children:e}),e.alert=!0,_.dialog(e)},confirm:function(e){return"string"==typeof e&&(e={children:e}),e.confirm=!0,_.dialog(e)}};var O=(0,v.default)((s=u=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.handleCancel=n.handleCancel.bind(n),n.handleConfirm=n.handleConfirm.bind(n),n}return i(t,e),c(t,[{key:"handleConfirm",value:function(e){e.preventDefault(),this.props.onConfirm()}},{key:"handleCancel",value:function(e){e.preventDefault(),this.props.onCancel&&this.props.onCancel()}},{key:"render",value:function(){var e=this.props,t=e.btnText,n=void 0===t?{}:t,r=(0,m.default)({weui_dialog_confirm:e.confirm,weui_dialog_alert:e.alert});return e.show?p.default.createElement("div",{className:r,style:{display:"block"}},p.default.createElement("div",{className:"weui_mask"}),p.default.createElement("div",{className:"weui_dialog"},p.default.createElement("div",{className:"weui_dialog_hd"},p.default.createElement("strong",{className:"weui_dialog_title"},e.title)),p.default.createElement("div",{className:"weui_dialog_bd"},e.children),p.default.createElement("div",{className:"weui_dialog_ft"},e.confirm?p.default.createElement("a",{href:"javascript:;",className:"weui_btn_dialog default",onClick:this.handleCancel},n.cancel?n.cancel:"取消"):null,p.default.createElement("a",{href:"javascript:;",className:"weui_btn_dialog primary",onClick:this.handleConfirm},n.confirm?n.confirm:"确定")))):null}}]),t}(p.default.Component),u.alert=_.alert,u.confirm=_.confirm,l=s))||l;O.propTypes={show:f.PropTypes.bool,onConfirm:f.PropTypes.func.isRequired,onCancel:f.PropTypes.func,title:f.PropTypes.string.isRequired,alert:f.PropTypes.bool,confirm:f.PropTypes.bool,btnText:f.PropTypes.object},t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),f=n(8),p=r(f),d=function(e){function t(e,n){o(this,t);var r=a(this,Object.getPrototypeOf(t).call(this,e,n));return r.onClick=r.onClick.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDrop=r.onDrop.bind(r),r.state={isDragActive:!1,isWX:p.default.is.weixin()},r}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.enterCounter=0}},{key:"accept",value:function(e,t){if(e&&t){var n=function(){var n=t.split(","),r=e.name||"",o=e.type||"",a=o.replace(/\/.*$/,"");return{v:n.some(function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?a===t.replace(/\/.*$/,""):o===t})}}();if("object"===("undefined"==typeof n?"undefined":l(n)))return n.v}return!0}},{key:"allFilesAccepted",value:function(e){var t=this;return e.every(function(e){return t.accept(e,t.props.accept)})}},{key:"onDragEnter",value:function(e){e.preventDefault(),++this.enterCounter;var t=e.dataTransfer&&e.dataTransfer.items?e.dataTransfer.items:[],n=Array.prototype.slice.call(t),r=this.allFilesAccepted(n);this.setState({isDragActive:r,isDragReject:!r}),this.props.onDragEnter&&this.props.onDragEnter(e)}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragLeave",value:function(e){e.preventDefault(),--this.enterCounter>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave(e))}},{key:"onDrop",value:function(e){e.preventDefault(),this.enterCounter=0,this.setState({isDragActive:!1,isDragReject:!1});for(var t=e.dataTransfer?e.dataTransfer.files:e.target.files,n=this.props.multiple?t.length:1,r=[],o=0;o<n;o++){var a=t[o];a.preview=window.URL.createObjectURL(a),r.push(a)}this.props.onDrop&&this.props.onDrop(r,e),this.allFilesAccepted(r)?this.props.onDropAccepted&&this.props.onDropAccepted(r,e):this.props.onDropRejected&&this.props.onDropRejected(r,e)}},{key:"onClick",value:function(){this.props.disableClick||this.open()}},{key:"open",value:function(){var e=this.refs.fileInput;e.value=null,e.click()}},{key:"render",value:function(){var e="droper ";return e+=this.props.className?this.props.className:" droper-default ",c.default.createElement("div",null,c.default.createElement("div",{className:e,onClick:this.onClick,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},this.props.children),this.state.isWX?c.default.createElement("input",{type:"file",ref:"fileInput",className:"droper-input",accept:this.props.accept,onChange:this.onDrop}):c.default.createElement("input",{type:"file",ref:"fileInput",className:"droper-input",multiple:this.props.multiple,accept:this.props.accept,onChange:this.onDrop}))}}]),t}(c.default.Component);d.defaultProps={disableClick:!1,multiple:!0},d.propTypes={onDrop:c.default.PropTypes.func,onDropAccepted:c.default.PropTypes.func,onDropRejected:c.default.PropTypes.func,onDragEnter:c.default.PropTypes.func,onDragLeave:c.default.PropTypes.func,disableClick:c.default.PropTypes.bool,multiple:c.default.PropTypes.bool,accept:c.default.PropTypes.string},t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),f=n(4),p=r(f),d=(0,p.default)(l=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.handleBack=n.handleBack.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"header"},this.props.left?this.props.left:c.default.createElement("a",{href:"javascript:void(0);",className:"button button-link pull-left header-left",onClick:this.handleBack},c.default.createElement("i",{className:"ifont ifont-angle-left"}),"返回"),this.props.right?this.props.right:null,c.default.createElement("h1",{className:"header-title"},this.props.title))}},{key:"handleBack",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.history&&this.props.history.go(-1)}}]),t}(c.default.Component))||l;d.propTypes={left:s.PropTypes.object,right:s.PropTypes.object,title:s.PropTypes.string},t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),p=n(2),d=r(p),h=n(9),y=r(h),m=n(6),b=r(m),v=function(e){function t(e){a(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.handleScroll=n.handleScroll.bind(n),n.state={loading:!1},n.timer=null,n.scrollTop=0,n}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=(e.bottomOffset,e.onBottom,e.done),a=o(e,["className","children","bottomOffset","onBottom","done"]),i=(0,d.default)("infinite",t);return f.default.createElement("div",u({ref:"infinite"},a,{className:i,onScroll:this.handleScroll}),n,f.default.createElement(b.default,{justifyCenter:!0,alignCenter:!0,className:"infinite-loading"},r?f.default.createElement(b.default,{justifyCenter:!0,className:"text-desc text-small"},"没有更多数据"):this.state.loading&&f.default.createElement(y.default,null)))}},{key:"handleBottom",value:function(){var e=this;if(!this.props.done){clearTimeout(this.timer),this.setState({loading:!0});var t=this.props.onBottom();t&&t.then?t.then(function(){e.setState({loading:!1})},function(){e.setState({loading:!1})}):this.timer=setTimeout(function(){e.setState({loading:!1})},500)}}},{key:"handleScroll",value:function(e){e.target.scrollTop>this.scrollTop&&(this.state.loading||e.target.clientHeight+e.target.scrollTop+this.props.bottomOffset>=e.target.scrollHeight&&this.handleBottom()),this.scrollTop=e.target.scrollTop}}]),t}(f.default.Component);v.defaultProps={onBottom:function(){},bottomOffset:100},v.propTypes={bottomOffset:c.PropTypes.number,onBottom:c.PropTypes.func.isRequired,done:c.PropTypes.bool},t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),d=n(2),h=r(d),y=n(8),m=r(y),b=n(4),v=r(b),g=(0,v.default)(u=function(e){function t(e){a(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={show:!1},n.targetDom=null,n.timer=null,n.onScroll=n.onScroll.bind(n),n}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.src,r=e.placeholder,a=(e.targetId,o(e,["className","src","placeholder","targetId"])),i=(0,h.default)("lazy-img",t);return p.default.createElement("img",s({},a,{ref:"img",className:i,src:this.state.show&&n?n:r}))}},{key:"componentDidMount",value:function(){this.targetDom=this.props.targetId?document.getElementById(this.props.targetId):document.getElementsByClassName("page-content")[0],this.targetDom&&(this.targetDom.addEventListener("scroll",this.onScroll),this.doLazy())}},{key:"componentWillUnmount",value:function(){this.removeListener()}},{key:"removeListener",value:function(){this.targetDom&&this.targetDom.removeEventListener("scroll",this.onScroll)}},{key:"onScroll",value:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.doLazy()},500)}},{
key:"doLazy",value:function(){m.default.isElementOverViewport(this.refs.img)&&(this.setState({show:!0}),this.removeListener())}}]),t}(p.default.Component))||u;g.propType={src:f.PropTypes.string,placeholder:f.PropTypes.string,targetId:f.PropTypes.string},t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),p=n(5),d=r(p),h="_mgm_nprogress_container"+(Math.random()+"").slice(2),y=document.getElementById(h);y||(y=document.createElement("div"),y.className="nprogress-container",y.id=h,document.body.appendChild(y));var m={start:function(){d.default.unmountComponentAtNode(y),d.default.render(f.default.createElement(b,null),y)},done:function(){d.default.render(f.default.createElement(b,{precent:100}),y),setTimeout(function(){d.default.unmountComponentAtNode(y)},250)}},b=(u=l=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={precent:0},n.timer=null,n}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.precent&&(clearTimeout(this.timer),this.setState({precent:e.precent}))}},{key:"render",value:function(){var e=100-this.state.precent;return f.default.createElement("div",{className:"nprogress",style:{transform:"translate3d(-"+e+"%, 0px, 0px)"}},f.default.createElement("div",{className:"nprogress-head"}))}},{key:"componentDidMount",value:function(){this.doInc()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"doInc",value:function(){var e=this;this.timer=setTimeout(function(){e.setState({precent:e.state.precent+.2*(100-e.state.precent)}),e.state.precent<90&&e.doInc()},150)}}]),t}(f.default.Component),l.start=m.start,l.done=m.done,u);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),p=n(2),d=r(p),h=n(6),y=r(h),m=function(e){function t(){return a(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.white,r=e.header,a=e.tabbar,i=e.children,l=o(e,["className","white","header","tabbar","children"]),s=(0,d.default)({page:!0,"page-white":n},t);return r||a?f.default.createElement(y.default,u({column:!0},l,{className:s}),r&&f.default.createElement(y.default,{column:!0},r),f.default.createElement(y.default,{flex:!0,column:!0,className:"page-content block"},i),a&&f.default.createElement(y.default,{column:!0,className:"page-tabbar"},a)):f.default.createElement("div",u({},l,{className:(0,d.default)(s,"page-content")}),i)}}]),t}(f.default.Component);m.propTypes={children:c.PropTypes.node,className:c.PropTypes.string,white:c.PropTypes.bool,header:c.PropTypes.node,tabbar:c.PropTypes.node},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),p=n(2),d=r(p),h=n(7),y=r(h),m=n(3),b=r(m),v=function(e){function t(e){a(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.left,r=e.bottom,a=e.width,i=e.height,l=e.opacity,s=e.autoHeight,c=e.className,p=e.style,h=o(e,["show","left","bottom","width","height","opacity","autoHeight","className","style"]),m=(0,d.default)("popup",{active:t,"popup-left":n,"popup-bottom":r,"popup-bottom-auto-height":s},c),v=b.default.extend({},p);return n&&a?v.width=a:r&&(v.height=i),f.default.createElement("div",{className:"popup-wrap"},f.default.createElement(y.default,{show:e.show,opacity:l||.1,onClick:this.handleChange}),f.default.createElement("div",u({},h,{className:m,style:v}),f.default.createElement("div",{className:"popup-content"},e.children)))}},{key:"handleChange",value:function(e){e.preventDefault(),this.props.onChange(!this.props.show)}}]),t}(f.default.Component);v.defaultProps={show:!1,onChange:function(){}},v.propTypes={show:c.PropTypes.bool,onChange:c.PropTypes.func,left:c.PropTypes.bool,bottom:c.PropTypes.bool,width:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.number]),height:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.number]),opacity:c.PropTypes.number,autoHeight:c.PropTypes.bool},t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),c=n(5),f=r(c),p=window.navigator.userAgent.indexOf("iPhone")>-1,d=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.target=null,n}return i(t,e),l(t,[{key:"render",value:function(){return s.default.cloneElement(this.props.children,{onFocus:this.handleFocus.bind(this)})}},{key:"componentWillMount",value:function(){"[object Object]"!==toString.call(this.props.children)&&console.error("There must be one and only one component")}},{key:"componentDidMount",value:function(){this.target=f.default.findDOMNode(this)}},{key:"componentWillUnmount",value:function(){this.target=null}},{key:"handleFocus",value:function(){var e=this;p||setTimeout(function(){e.target&&e.target.scrollIntoView()},500)}}]),t}(s.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),f=n(2),p=r(f),d=n(4),h=r(d),y=function(){},m=(0,h.default)(l=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={id:e.id||"_mgm_search_bar_id"+(Math.random()+"").slice(2),focus:e.defaultFocus},n.handleOK=n.handleOK.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleChange=n.handleChange.bind(n),n.handleClear=n.handleClear.bind(n),n.handleCancel=n.handleCancel.bind(n),n.handleLabel=n.handleLabel.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=(0,p.default)("search-bar weui_search_bar",{weui_search_focusing:this.props.value||this.state.focus});return c.default.createElement("div",{className:e},c.default.createElement("form",{className:"weui_search_outer",onSubmit:this.handleOK},c.default.createElement("div",{className:"weui_search_inner"},c.default.createElement("i",{className:"weui_icon_search"}),c.default.createElement("input",{id:this.state.id,type:"search",className:"weui_search_input",placeholder:this.props.placeholder,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,ref:"input",value:this.props.value}),""===this.props.value?void 0:c.default.createElement("a",{href:"javascript:",className:"weui_icon_clear",onClick:this.handleClear})),c.default.createElement("label",{htmlFor:this.state.id,className:"weui_search_text",onClick:this.handleLabel},c.default.createElement("i",{className:"weui_icon_search"}),c.default.createElement("span",null,this.props.placeholder))),this.props.OKBtn?c.default.createElement("a",{href:"javascript:",className:"weui_search_cancel",onClick:this.handleOK},this.props.OKBtn===!0?"搜索":this.props.OKBtn):c.default.createElement("a",{href:"javascript:",className:"weui_search_cancel",onClick:this.handleCancel},"取消"))}},{key:"handleLabel",value:function(e){e.preventDefault(),this.setState({focus:!0}),this.refs.input.focus()}},{key:"handleFocus",value:function(e){e.preventDefault(),this.props.onFocus(e),this.setState({focus:!0})}},{key:"handleBlur",value:function(e){var t=this;e.preventDefault(),this.props.onBlur(e),setTimeout(function(){t.setState({focus:!1})},500)}},{key:"handleClear",value:function(e){e.preventDefault(),this.props.onChange(""),this.refs.input.focus()}},{key:"handleCancel",value:function(e){e.preventDefault(),this.setState({focus:!1}),this.props.onChange(""),this.props.onCancel(),this.refs.input.blur()}},{key:"handleOK",value:function(e){e.preventDefault(),this.refs.input.blur(),this.props.onOK(),this.setState({focus:!1})}},{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}}]),t}(c.default.Component))||l;m.defaultProps={defaultFocus:!1,onBlur:y,onFocus:y,onOK:y,onCancel:y,OKBtn:!1},m.propTypes={defaultFocus:s.PropTypes.bool,value:s.PropTypes.string.isRequired,onChange:s.PropTypes.func.isRequired,onBlur:s.PropTypes.func,onFocus:s.PropTypes.func,placeholder:s.PropTypes.string,onOK:s.PropTypes.func,onCancel:s.PropTypes.func,OKBtn:s.PropTypes.oneOfType([s.PropTypes.bool,s.PropTypes.string])},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),d=n(2),h=r(d),y=n(7),m=r(y),b=n(3),v=r(b),g=n(4),w=r(g),_=(0,w.default)(u=function(e){function t(e){a(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.handleCancel=n.handleCancel.bind(n),n.handleClick=n.handleClick.bind(n),n}return l(t,e),c(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.show,r=t.data,a=t.value,i=t.className,l=(t.onChange,t.onCancel,o(t,["show","data","value","className","onChange","onCancel"])),u=(0,h.default)("select-popup-list",i);return n?p.default.createElement("div",{className:"select-popup"},p.default.createElement(m.default,{show:n,opacity:.1,onClick:this.handleCancel}),p.default.createElement("div",s({},l,{className:u}),(!r||0===r.length)&&p.default.createElement("span",{className:"text-desc"},"没有数据"),v.default.map(r,function(t,n){return p.default.createElement("div",{key:n,"data-index":n,className:(0,h.default)("select-popup-list-item",{active:t===a}),onClick:e.handleClick},t.name)}))):null}},{key:"handleCancel",value:function(e){e.preventDefault(),this.props.onCancel(e)}},{key:"handleClick",value:function(e){e.preventDefault();var t=e.currentTarget.dataset.index;this.props.onChange(this.props.data[t])}}]),t}(p.default.Component))||u;_.defaultProps={show:!1,data:[],value:null,onChange:function(){},onCancel:function(){}},_.propTypes={show:f.PropTypes.bool.isRequired,data:f.PropTypes.array,value:f.PropTypes.any,onChange:f.PropTypes.func.isRequired,onCancel:f.PropTypes.func},t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),p=n(5),d=r(p),h=n(2),y=r(h),m=n(3),b=r(m),v=n(6),g=r(v),w=function(e){function t(e){a(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={count:1,sliderWidth:0,touchObject:null,dragging:!1,transition:!1,x:0},n.swipeStart=n.swipeStart.bind(n),n.swipeMove=n.swipeMove.bind(n),n.swipeEnd=n.swipeEnd.bind(n),n.setSliderWidth=n.setSliderWidth.bind(n),n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({count:"[object Array]"===toString.call(e.children)?e.children.length:1})}},{key:"render",value:function(){var e=this.state.touchObject,t=e?e.x-e.startX+this.state.x:this.state.x,n=this.props,r=n.className,a=o(n,["className"]),i=(0,y.default)({"slider-transition":this.state.transition},r),l={WebkitTransform:"translate3d("+t+"px, 0, 0)",transform:"translate3d("+t+"px, 0, 0)"};return f.default.createElement("div",{className:"slider"},f.default.createElement(g.default,u({},a,{ref:"slider",className:i,onMouseDown:this.swipeStart,onMouseMove:this.swipeMove,onMouseUp:this.swipeEnd,onMouseLeave:this.swipeEnd,onTouchStart:this.swipeStart,onTouchMove:this.swipeMove,onTouchEnd:this.swipeEnd,onTouchCancel:this.swipeEnd,style:l}),this.renderChild()),this.renderFlag())}},{key:"renderChild",value:function(){var e=this.props.children;return"[object Array]"!==toString.call(this.props.children)&&(e=[this.props.children]),b.default.map(e,function(e,t){return f.default.cloneElement(e,{style:b.default.extend({},e.props.style,{width:"100%"}),className:(0,y.default)("slider-cell flex flex-none",e.props.className),key:t})})}},{key:"renderFlag",value:function(){var e=this;return f.default.createElement(g.default,{justifyCenter:!0,className:"slider-flag"},b.default.map(b.default.range(this.state.count),function(t,n){return f.default.createElement("span",{className:(0,y.default)({active:Math.abs(e.state.x/e.state.sliderWidth)===n}),key:n})}))}},{key:"componentDidMount",value:function(){this.setSliderWidth(),this.setCount(),window.addEventListener("resize",this.setSliderWidth)}},{key:"setCount",value:function(){this.setState({count:"[object Array]"===toString.call(this.props.children)?this.props.children.length:1})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setSliderWidth)}},{key:"setSliderWidth",value:function(){var e=d.default.findDOMNode(this.refs.slider);this.setState({sliderWidth:e.offsetWidth})}},{key:"getX",value:function(e){return void 0!==e.touches?e.touches[0].pageX:e.clientX}},{key:"swipeStart",value:function(e){e.preventDefault(),this.setState({dragging:!0,transition:!1,touchObject:{startX:this.getX(e),x:this.getX(e)}})}},{key:"swipeMove",value:function(e){e.preventDefault(),this.setState({dragging:!0,transition:!1,touchObject:b.default.extend({},this.state.touchObject,{x:this.getX(e)})})}},{key:"swipeEnd",value:function(e){e.preventDefault();var t=this.state.touchObject,n=t.x-t.startX,r=this.state.x;t&&Math.abs(n)>50?(n>0?r+=this.state.sliderWidth:r-=this.state.sliderWidth,r>0&&(r=0),r<-(this.state.sliderWidth*(this.state.count-1))&&(r=-(this.state.sliderWidth*(this.state.count-1))),this.setState({transition:!0,dragging:!1,touchObject:null,x:r})):this.setState({transition:!0,dragging:!1,touchObject:null})}}]),t}(f.default.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),p=n(2),d=r(p),h=function(e){function t(){return a(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=o(e,["className","children"]),a=(0,d.default)("square-inner",t);return f.default.createElement("div",{className:"square"},f.default.createElement("div",u({},r,{className:a}),n))}}]),t}(f.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(3),l=r(i),u=a.default.PropTypes,s="_react-gmm_",c=a.default.createClass({displayName:"Storage",statics:{set:function(e,t){localStorage.setItem(s+e,JSON.stringify(t))},get:function(e){var t=localStorage.getItem(s+e);return t?JSON.parse(t):t},remove:function(e){localStorage.removeItem(s+e)},clear:function(){localStorage.clear()},getAll:function(){for(var e,t={},n=0;n<localStorage.length;n++)e=localStorage.key(n),e.startsWith(s)&&(e=e.slice(s.length),t[e]=c.get(e));return l.default.keys(t)?t:null}},propTypes:{name:u.string.isRequired,value:u.oneOfType([u.string,u.object,u.array]),autoSave:u.bool},getDefaultProps:function(){return{autoSave:!0}},save:function(){c.set(this.props.name,this.props.value)},componentWillUpdate:function(){this.props.autoSave&&this.save()},componentWillMount:function(){this.save()},render:function(){return null}});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1),d=r(p),h=n(2),y=r(h),m=(s=u=function(e){function t(){return a(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),f(t,[{key:"render",value:function(){var e=(0,y.default)("textarea-adapter",this.props.wrapProps.className),t=this.props,n=t.wrapProps,r=o(t,["wrapProps"]);return d.default.createElement("div",c({},n,{className:e}),d.default.createElement("pre",null,this.props.value),d.default.createElement("textarea",c({},r,{className:(0,y.default)("weui_textarea",this.props.className)})))}}]),t}(d.default.Component),u.defaultProps={wrapProps:{}},s);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(5),l=r(i),u=n(7),s=r(u),c=n(9),f=r(c),p=n(3),d=r(p),h="_mgm_toasts_container"+(Math.random()+"").slice(2),y=document.getElementById(h);y||(y=document.createElement("div"),y.className="mgm-toasts",y.id=h,document.body.appendChild(y));var m={};m={_queue:[],_ing:!1,_render:function(){if(!m._ing){var e=m._queue.shift();if(void 0!==e){m._ing=!0;var t=e.onFinish,n=document.createElement("div");return n.className="mgm-toasts-cell",y.appendChild(n),e.onFinish=function(){t&&t(),y.removeChild(n),m._ing=!1,m._queue.length>0&&setTimeout(function(){m._render()},500)},l.default.render(a.default.createElement(b,e,e.children),n),n}}},clear:function(e){l.default.unmountComponentAtNode(e)},tip:function(e){return"string"==typeof e&&(e={children:e}),e=d.default.extend({show:!0},e),m._queue.push(e),m._render()},success:function(e){return"string"==typeof e&&(e={children:e}),m.tip(d.default.extend({success:!0},e))},info:function(e){return"string"==typeof e&&(e={children:e}),m.tip(d.default.extend({info:!0},e))},warning:function(e){return"string"==typeof e&&(e={children:e}),m.tip(d.default.extend({warning:!0},e))},danger:function(e){return"string"==typeof e&&(e={children:e}),m.tip(d.default.extend({danger:!0},e))},loading:function(e){return"string"==typeof e&&(e={children:e}),m.tip(d.default.extend({loading:!0},e))}};var b=a.default.createClass({displayName:"Toast",statics:m,propTypes:{onClick:a.default.PropTypes.func,onFinish:a.default.PropTypes.func,show:a.default.PropTypes.bool,time:a.default.PropTypes.any,loading:a.default.PropTypes.bool,icon:a.default.PropTypes.any,success:a.default.PropTypes.bool,info:a.default.PropTypes.bool,warning:a.default.PropTypes.bool,danger:a.default.PropTypes.bool},getDefaultProps:function(){return{show:!1,time:2e3,loading:!1,icon:null,onClick:function(){},onFinish:function(){}}},getInitialState:function(){return{show:this.props.show}},componentWillReceiveProps:function(e){void 0!==e.show&&this.setState({show:e.show})},render:function(){var e=this.props.icon,t=this.props.children;return this.props.loading?(e=a.default.createElement(f.default,null),t=t||"加载中..."):this.props.success?e=a.default.createElement("i",{className:"ifont ifont-success"}):this.props.info?e=a.default.createElement("i",{className:"ifont ifont-info-circle"}):this.props.warning?e=a.default.createElement("i",{className:"ifont ifont-warning"}):this.props.danger&&(e=a.default.createElement("i",{className:"ifont ifont-close"})),a.default.createElement("div",{style:{display:this.state.show?"block":"none"}},a.default.createElement(s.default,{show:this.state.show,opacity:.1}),a.default.createElement("div",{className:"toast-container"},a.default.createElement("div",{className:"toast",onClick:this.handleClick},e,a.default.createElement("div",{className:"toast-content"},t))))},timer:null,componentDidMount:function(){var e=this;e.props.time&&(e.timer=setTimeout(function(){e.setState({show:!1}),e.handleFinish()},e.props.time))},componentWillUnmount:function(){var e=this;clearTimeout(e.timer),e.setState({show:!1}),e.handleFinish()},componentDidUpdate:function(){this.state.show===!1&&this.handleFinish()},handleClick:function(){this.props.onClick()},isFinished:!1,handleFinish:function(){this.isFinished||(this.isFinished=!0,this.props.onFinish())}});t.default=b},function(e,t){}])});